---
title: "A quantitative assessment of expert-rated Smart City Development on quality of life in the United States"
author:
  - name: "Nicholas Victor Julius Alexander"
    affil-id: 1
  - name: "Emilia TITAN"
    affil-id: 1
  - name: "Claudiu HERTELIU"
    affil-id: 1

affiliations: 
  - id: 1
    name: "Department of Statistics and Econometrics, Bucharest University for Economic Studies"
date: last-modified
date-format: "[Last Updated on] MMMM D, YYYY, kk:mm UTC"
documentclass: scrartcl
pdf-engine: xelatex
keep-tex: true
lang: en
mainfont: Times New Roman
sansfont: Times New Roman
mathfont: TeX Gyre Termes
fontsize: 12pt
papersize: a4
geometry: top=20mm, left=25mm, right=20mm, bottom=25mm
number-sections: true
toc: false
lof: false
lot: false
citecolor: black
linkcolor: black
urlcolor: black
bibliography: references.bib
csl: formattingaids/chicago.csl
link-citations: true
reference-location: section
biblio-style: unsrt
format:
  pdf:
    template-partials: 
      - formattingaids/title.tex
    include-in-header:
      text: |
        \usepackage{setspace}
        \usepackage{tocloft}
        \renewcommand{\cftfigpresnum}{Fig. }
        \renewcommand{\cfttabpresnum}{Table }
        \addtolength{\cftfignumwidth}{2em}
        \addtolength{\cfttabnumwidth}{2em}
        \usepackage{siunitx}
        \sisetup{output-decimal-marker={.}}
        \usepackage[noblocks]{authblk}
        \renewcommand*{\Authsep}{, }
        \renewcommand*{\Authand}{, }
        \renewcommand*{\Authands}{, }
        \renewcommand\Affilfont{\small}

---

Smart City Development (SCD) is one of the most prevalent paradigms in urban planning in the developed world, emerging as a response to post-industrial demographic transformations. In developed countries, including the United States (US), urban population declined from the 1930s until the 1990s, owing to the demographic decline of populations born in these cities and the loss of many jobs requiring physical presence in urban areas. But, unexpectedly, the Shrinking Cities transformation stopped about three decades ago and first-world urban populations are once again increasing (@Baudet-MichelChapitredecroissanceurbaine2021; @FreyNewcensusdata2024; @MinisteriodeTransportesMovilidadyAgendaUrbanaDGdeViviendaySueloAreasurbanasEspana2022; @NationalRecordsofScotlandWebTeamPopulationGrowsLarge2021). On the other hand, in developing countries, there are large demographic shifts from rural to urban environments, replicating the earlier population flow experienced by the developed world in the early 20th century (@UnitedNationsDepartmentofEconomicandSocialAffairsPopulationDivisionWorldCities20182018).

There is concern that an increase in urban densities could lead to a loss of quality of life (QoL), as witnessed in the West in the early 20th century. Despite significant changes in city zoning and building codes, recent cross-sectional observational studies indicate an inverse correlation between subjective well-being and population density in US cities (@WintersUrbanisationnaturalamenities2016). On the other hand, similar studies conducted in Western Europe (@MouratidisCompactcityurban2019) or focused on specific age cohorts (@Okulicz-KozarynNourbanmalaise2019) suggest that this inverse correlation is not universally present. Several attempts to explain this discrepancy start assume the inclusion of Type II statistical errors, or epoch-specific idiosyncrasies within each sample. A third hypothesis attributes the difference between American and European density - QoL relationship to cultural differences, as captured by the witticism "Americans live to work, while Europeans work to live." (@Okulicz-KozarynEuropeansworklive2011) This approach suggests that culture-specific social structures facilitate Europeans' higher tolerance for increased demographic density. A relevant implication would be that policies allowing Americans to live similarly to Western Europeans could improve the formers' perception of high urban density.

SCD can be seen as a practical application of this corollary. Experts from both sides of the Atlantic believe that cities with shorter distances between key locations, public spaces facilitating social interactions, accessible public transport, and green spaces tend to provide a better QoL at the same objective level of demographic density, compared to cities developed around the personal automobile or gated communities. Furthermore, they argue that an active effort to reshape cities from an individualistic to a more community-focused model would enhance urban residents' QoL (@CaragliuSmartcitiesEurope2011; @NivolaAreEuropescities1999). This trend toward community-oriented urban development is generally linked to the belief that the introduction of novel technologies, such as real-time monitoring, may counter potential urban decline. Within this framework, the European Commission (EC) has defined the smart city as "a place where traditional networks and services are made more efficient with the use of digital solutions for the benefit of its inhabitants and business." (@EuropeanCommissionSmartcities2016) Among the goals set by the EC for developing smart cities are the efficient use of local resources, pollution minimization, improved availability of public transportation, safe drinking water and sanitation infrastructure, energy-efficient lighting and heating, and streamlined citizen-authority interactions. In short, the European understanding of SCD stresses QoL improvement.

By contrast, in the US, the National Institute of Standards and Technology (NIST) defines SCD as "the effective use of digital technologies to deliver prioritized services and benefits to achieve community goals." (@SerranoSmartcitiescommunities2022) In addition to improved services, NIST criteria for a smart city include the alignment of metrics and budget priorities with citizens preferences, investment optimization, and rich information streams. While these gauges can be useful in evaluating cities or city governments' efforts, the cost-effective structure of NIST's goals is notable. It is indeed intuitive that SCD evaluation should include a metric of public investment efficiency, but it is unclear how this efficiency can be measured in a smart way. For example, it is unclear whether an urban highway is a smart amenity. A highway is superior in terms of speed to a bicycle lane, but, at the same time, urban highways degrades the well-being of the supposed beneficiaries, to the point that, even in the US, housing near the highway is sold at a discount (@Samuelspollutedlifehighway2022). According to the NIST definition, US urban planners were the first in the world to apply intelligent city management techniques, in 1970, when they used aerial photographs to assess the quality of Los Angeles' housing stock (@StubingerUnderstandingSmartCity2020). Again, it is not immediately obvious how this approach improved the quality of life of the residents of the city surveyed in this hi-tech manner. Arguably, in the US understanding of the term "smart city", the purpose is subordinated to the process.

Between the concept of the smart city as defined by the EC and the one defined by the NIST, there exists a broad spectrum of definitions, ranging from those centered on QoL to those focused on the novelty of development methods. According to a recent European review (@BolivarsearchSmartSource2019), the various definitions encompass, with varying emphasis, "smart economy, smart people, smart governance, smart mobility, smart environment, and smart living". Unfortunately, almost all the articles cited in this review offer definitions without applying them to concrete data, and, therefore, without quantive scaling for any of the criteria. Such an approach makes it impossible to compare cities based on SCD indices, or even to appreciate dynamics within the same city. We are aware of only one study that provides quantitative evidence supporting the correlation between QoL and a numeric composite metric of SCD using the previously mentioned six domains (@WangDoessmartcity2023), but it is limited to China. A quantitative assessment of SCD in the US and the EU is urgently needed, given that its theoretical foundation - the hypothesis that a communal way of life is superior to an individualistic one in terms of QoL - appears accepted solely on axiomatic grounds, and yet it guides the development of several first-order urban centers (New York and Vienna, among others reviewed in @Choicomparativeanalysisseven2023).

In this study, we analyze quantitatively the correlation between the SCD and QoL. SCD metrics were obtained from two European academic centers, the International Institute for Management Development (IMD) in Lausanne and the Instituto de Estudios Superiores de la Empresa (IESE) in Barcelona. Both institutions host expert groups, who publish periodic world SCD city rankings, based on published, well-defined SCD criteria. Additionally, both sets of rankings include domain metrics, allowing identification of stronger and weaker SCD domains in the assessed cities. For general QoL rankings, we use, as a starting point, the scores from the well-known US News & World (USNW) report ranking US cities, based on quantitative and survey data. For a deeper understanding of QoL components, we use the publicly-available data from Numbeo.com, an online platform where anonymous resident ratings and several well-published indicators are combined, through specified formulas, into domain indices. The analysis was limited to US cities, primarily because a narower geographic focus reduces potential cultural confounders, such as language differences in questionnaires and intercultural axiological differences.

## Research hypotheses

H1. SCD metrics from IESE and IMD have a strong degree of correlation, indicating that they measure similar concepts.

H2. SCD metrics from the same group of experts are correlated over time, indicating that local authorities show a persistent interest (or lack of interest) in SCD.

H3. Domain SCD metrics for a city are largely correlated, indicating that local authorities pursue systemic rather than domain-specific improvements.

H4. QoL metrics from USNW and Number.com have a strong degree of correlation, indicating that they measure similar concepts.

H5. QoL metrics and SCD metrics correlate in cross-sectional analysis, demonstrating an effect of SCD-oriented policies on QoL in US cities.

H6. The correlation between QoL metrics and SCD metrics is domain-specific, with certain SCD domains (for example, smart transportation) showing stronger associations with QoL than others.

H7. The correlation between QoL metrics and SCD metrics is domain-specific, with certain SCD domains (for example, leisure time) showing stronger associations with QoL than others.

## Data acquisition and processing

Ten US cities were evaluated in the most recent wave of the IMD Smart Cities Index, in 2023 (@BrisIMDSmartCity2023). The IMD data include an estimate of the Human Development Index (HDI) at city level, a survey on the top five Concerns of the resident population, and a survey on the Structures and Technologies supporting SCD. The latter assesses five domains: governance, health and safety, mobility, professional development opportunities, and leisure activities (copied from @BrisIMDSmartCity2023 in Supplemental Table 1). Although the IMD report provides rankings and score from past years, the IMD methodology has changed repeatedly and significantly, making time series analysis less reliable. The number of respondents is not specified, but it is stated to be representative. IMD data were semi-automatically transcribed from the document available at imd.org.

The SCD indicators obtained from IESE include solely a score (Cities in Motion Index, CIMI) and rankings based on that score. However, correlation between IESE scores with IMD scores would be supportive for the notion of a relative agreement among experts, with regards to SCD metrics. Moreover, IESE criteria have been rather invariable, making IESE rankings useful in evaluation of eventual chronologic trends with regards to expert-generated SCD rankings. In 2024, the IESE criteria covered nine domains, namely human capital, social cohesion, economy, governance, environment, mobility, international profile, urban planning, and technology (copied from @BerroneIESECitiesMotion2024 in Supplemental Table 2). The IESE overall rankings and scores data were transcribed semi-automatically from documents published at iese.edu, and cover 8 US cities assessed in IESE Cities in Motion 2014 (@BerroneIESECitiesMotion2014), as well as 19 US cities in IESE Cities in Motion 2024 (@BerroneIESECitiesMotion2024). 

For QoL, we used USNW rankings, compiled by experts for over fifty years and highly influential in shaping American public perception (@Bloom25Citiesbest2024). In the Best Places to Live 2023-2024 rankings, QoL scores comprise 36% of the overal desirability score of a city. QoL scores are computed from metrics of subjective well-being, crime rates, education quality, commute quality, environment quality, and quality of healthcare services, with weights derived from US surveys (copied from @Howwerank2024 in Supplemental Table 3). USNW does not publish domain-specific QoL metrics. The overall QoL score was manually extracted from the Best Places to Live and Retire 2023 ranking (@BestPlacesLive2023), available at usnews.com.

Since 2009, Numbeo.com has hosted a web platform where self-selected, anonymous users, authenticating with their email address, may rate cities acrss the world, based on criteria such as cost of living, cost of housing  as a proportion of income, safety, healthcare services, climate, pollution, and commute burden. Although there are concerns regarding data quality, as with any internet-based survey, each of the studied cities has over 200 reviews, which reduces the impact of malicious responses. Moreover, in addition to survey data, Numbeo also incorporates a few official public data in the calculation of its composite indices (detailed, based on, in Supplemental Table 4). Numbeo is considered the best available source, especially for local prices, by major media outlets such as The Economist (@LStaletwoecosystems2013), Forbes (@BarrettInvestigateYouExpatriate2010), and The New York Times (@KugelThingsYouCan2016). We manually collected overall QoL scores, as well as scores for its eight dimensions, from numbeo.com, as displayed in April 2024. 

Manually-loaded data was pasted in LibreOffice Calc 25.2.2, and the resulting raw spreadsheet has been shared at https://github.com/nvalexander/smartcities. Subsequently, data was imported in VSCode 1.99.3, processed and analyzed with R `r getRversion()` (@RCoreTeamlanguageenvironmentstatistical2021), and typeset with Quarto `r quarto::quarto_version()`. Data wrangling and visualization relied on the tidyverse R library, version `r as.character(packageVersion("tidyverse"))` (@tidyverse2019). Analysis used R libraries including tseries version `r as.character(packageVersion("tseries"))`, irr version version `r as.character(packageVersion("irr"))`, car version `r as.character(packageVersion("car"))`, broom version `r as.character(packageVersion("broom"))` and lmtest version `r as.character(packageVersion("lmtest"))`.

```{r loadingdata,echo=FALSE}
suppressPackageStartupMessages({
  library(tidyverse)
  library(readxl)
  library(ggrepel)
  library(ggplot2)
  library(patchwork)
  library(irr)
  library(knitr)
  library(car)
  library(broom)
  library(tseries)
  library(lmtest)
})

imd_concerns_vars <- c(
  "affordable housing",
  "air pollution",
  "basic amenities",
  "citizen engagement",
  "corruption",
  "fulfilling employment",
  "green spaces",
  "health services",
  "public transport",
  "recycling",
  "road congestion",
  "school education",
  "security",
  "social mobility",
  "unemployment"
)

imd_structures_vars <- c(
  "Basic sanitation meets the needs of the poorest areas",
  "Recycling services are satisfactory",
  "Public safety is not a problem",
  "Air pollution is not a problem",
  "Medical services provision is satisfactory",
  "Finding housing with rent equal to 30pct or less of a monthly salary is not a problem",
  "Traffic congestion is not a problem",
  "Public transport is satisfactory",
  "Green spaces are satisfactory",
  "Cultural activities (shows, bars, and museums) are satisfactory",
  "Employment finding services are readily available",
  "Most children have access to a good school",
  "Lifelong learning opportunities are provided by local institutions",
  "Businesses are creating new jobs",
  "Minorities feel welcome",
  "Information on local government decisions are easily accessible",
  "Corruption of city officials is not an issue of concern",
  "Residents contribute to decision making of local government",
  "Residents provide feedback on local government projects"
)

imd_technologies_vars <- c(
  "Online reporting of city maintenance problems provides a speedy solution",
  "A website or App allows residents to easily give away unwanted items",
  "Free public wifi has improved access to city services",
  "CCTV cameras has made residents feel safer",
  "A website or App allows residents to effectively monitor air pollution",
  "Arranging medical appointments online has improved access",
  "Car-sharing Apps have reduced congestion",
  "Apps that direct you to an available parking space have reduced journey time",
  "Bicycle hiring has reduced congestion",
  "Online scheduling and ticket sales has made public transport easier to use",
  "The city provides information on traffic congestion through mobile phones",
  "Online purchasing of tickets to shows and museums has made it easier to attend",
  "Online access to job listings has made it easier to find work",
  "IT skills are taught well in schools",
  "Online services provided by the city has made it easier to start a new business",
  "The current internet speed and reliability meet connectivity needs",
  "Online public access to city finances has reduced corruption",
  "Online voting has increased participation",
  "An online platform where residents can propose ideas has improved city life",
  "Processing Identification Documents online has reduced waiting times"
)

numbeo_component_vars <- c(
  "Numbeo.com Purchasing Power Index",
  "Numbeo.com Safety Index",
  "Numbeo.com Health Care Index",
  "Numbeo.com Climate Index",
  "Numbeo.com Cost of Living Index",
  "Numbeo.com Property Price to Income Ratio",
  "Numbeo.com Traffic Commute Time Index",
  "Numbeo.com Pollution Index"
)

rawfile <- "data/rawdata.xlsx"

imdcomponents <- excel_sheets(rawfile) %>%
  keep(~ str_ends(.x, "IMD")) %>%
  { sheets <- .; 
    map(sheets, ~ suppressMessages(
      read_excel(rawfile, sheet = .x, range = "A1:A65", col_names = "text")
    ) %>%
      pull(text) %>%
      str_extract_all("\\d+\\.?\\d*%?") %>%
      map_chr(~ if(length(.x) > 0) .x[length(.x)] else NA_character_) %>%
      str_remove("%") %>%
      as.numeric()
    ) %>%
    { vectors <- .; 
      max_len <- max(map_int(vectors, length))
      vectors_padded <- map(vectors, ~{ length(.x) <- max_len; .x })
      col_names <- paste0("column ", sprintf("%02d", 1:max_len), " IMD")
      vectors_padded %>%
        map(~ set_names(.x, col_names)) %>%
        bind_rows() %>%
        mutate(City = str_remove(sheets, " IMD"), .before = 1)
    }
  } %>%
  select(-c(2, 18, 25, 28, 31, 37, 42, 49, 55, 57, 62)) %>%
  setNames(c(
    "City",
    imd_concerns_vars,
    imd_structures_vars,
    imd_technologies_vars
  ))

imdranks <- read_excel(
  rawfile,
  sheet = "IMDpivot",
  range = "A1:F11",
  col_names = TRUE
) %>% rename_with(~ str_replace_all(., "\\s+", ""))

iese2014data <- excel_sheets(rawfile) %>%
  keep(~ str_starts(., "IESE2014raw")) %>%
  map(~ read_excel(
    rawfile,
    sheet = .x,
    range = cell_cols("A"),
    col_types = "text",
    col_names = "value"
  ) %>% pull(value)) %>%
  flatten_chr() %>%
  matrix(ncol = 4, byrow = TRUE) %>%
  as_tibble(.name_repair = "minimal") %>%
  setNames(c("RankIESE2014", "City", "Performance", "CIMI2014")) %>%
  filter(str_detect(RankIESE2014, "^\\d+\\.?0?$")) %>%
  filter(str_starts(City, "USA-")) %>%
  select(-c("Performance")) %>%
  mutate(
    RankIESE2014 = as.numeric(RankIESE2014),
    CIMI2014 = as.numeric(str_replace(CIMI2014, ",", ".")),
    City = str_replace(City, "USA-", "")
  )

iese2024data <- excel_sheets(rawfile) %>%
  keep(~ str_starts(., "IESE2024raw")) %>%
  map(~ read_excel(
    rawfile,
    sheet = .x,
    range = cell_cols("A"),
    col_types = "text",
    col_names = "value"
  ) %>% pull(value)) %>%
  flatten_chr() %>%
  matrix(ncol = 4, byrow = TRUE) %>%
  as_tibble(.name_repair = "minimal") %>%
  setNames(c("RankIESE2024", "City", "Performance", "CIMI2024")) %>%
  filter(str_detect(RankIESE2024, "^\\d+\\.?0?$")) %>%
  filter(str_ends(City, " ‐ USA")) %>%
  select(-c("Performance")) %>%
  mutate(
    RankIESE2024 = as.numeric(RankIESE2024),
    CIMI2024 = as.numeric(str_replace(CIMI2024, ",", ".")),
    City = str_replace(City, " ‐ USA", "")
  )

numbeocomponents <- excel_sheets(rawfile) %>%
  keep(~ str_ends(.x, "numbeo")) %>%
  { sheets <- .;
    map(sheets, ~ suppressMessages(
      read_excel(rawfile, sheet = .x, range = "B1:B10", col_names = "value")
    ) %>%
      pull(value) %>%
      .[-9]
    ) %>%
    { vectors <- .;
      vectors %>%
        map(~ set_names(.x, c(
          numbeo_component_vars,
          "Numbeo.com QoL Score"
        ))) %>%
        bind_rows() %>%
        mutate(City = str_remove(sheets, " numbeo$"), .before = 1)
    }
  }

usnewsranks <- read_excel(
  rawfile,
  sheet = "USNews",
  range = "A1:D20",
  col_names = TRUE
) %>% rename_with(~ str_replace_all(., "\\s+", ""))


alldata <- iese2024data %>%
  left_join(iese2014data, by = "City") %>%
  left_join(imdranks, by = "City") %>%
  left_join(imdcomponents, by = "City") %>%
  left_join(usnewsranks, by = "City") %>%
  left_join(numbeocomponents, by = "City")%>%
  mutate(across(-City, ~ as.numeric(.))) %>%
  mutate(
    IMD_Concerns_Sum = rowSums(select(., all_of(imd_concerns_vars))),
    IMD_Structures_Sum = rowSums(select(., all_of(imd_structures_vars))),
    IMD_Technologies_Sum = rowSums(select(., all_of(imd_technologies_vars)))
  ) %>%
  select(
    City, 
    setdiff(names(.), c("City", "ScoreUSNewsoverall")),
    ScoreUSNewsoverall
  )

```

Although USNW and Numbeo.com provide QoL ratings for hundreds and, respectively thousands of US cities, the number of cities ranked by IESE and IMD is typically around 100 across the world. For the most part we analyzed data for all the 19 US cities featured the IESE 2024 rankings, but only 4 US cities (New York, Los Angeles, Chivago and Philadelphia) were assessed in all three reports used for this study. A set of 76 variables were obtained, including 59 metrics of SDC from IMD, 4 SCD metrics from IESE, 9 QoL metrics from Numbeo.com, one QoL metrics from USNW, and two control variables (overall USNW score and rank).
```{r qc,echo=FALSE}

data_qc <- alldata %>% select(-City, -ScoreUSNewsoverall, -RankUSNews)

n_vars <- ncol(data_qc)
n_obs <- nrow(data_qc)
missing_summary <- data_qc %>% 
  summarise(across(everything(), ~ mean(is.na(.)))) %>% 
  pivot_longer(everything())

prop_missing_overall <- mean(is.na(data_qc))
vars_lt10pct_missing <- sum(missing_summary$value < 0.10)
vars_gt50pct_missing <- sum(missing_summary$value > 0.50)

distribution_summary <- data_qc %>% 
  summarise(across(where(is.numeric), list(skewness = ~ e1071::skewness(., na.rm = TRUE)))) %>% 
  pivot_longer(everything())

cause_vars <- data_qc %>% select(-all_of(c(
  "ScoreUSNewsQoL",
  numbeo_component_vars,
  "Numbeo.com QoL Score"
)))

effect_vars <- data_qc %>% select(all_of(c(
  "ScoreUSNewsQoL",
  numbeo_component_vars,
  "Numbeo.com QoL Score"
)))

cause_cor <- cor(cause_vars, use = "pairwise.complete.obs")
effect_cor <- cor(effect_vars, use = "pairwise.complete.obs")

get_upper_tri <- function(cormat) {
  cormat[lower.tri(cormat, diag = TRUE)] <- NA
  cormat
}

cause_r_values <- get_upper_tri(cause_cor) %>% as.vector() %>% discard(is.na)
effect_r_values <- get_upper_tri(effect_cor) %>% as.vector() %>% discard(is.na)

cause_high_corr_pct <- mean(abs(cause_r_values) > 0.7) * 100
effect_high_corr_pct <- mean(abs(effect_r_values) > 0.7) * 100


```

Among the 75 relevant variables `r scales::percent(prop_missing_overall)` of the data was missing. Missingness ranged from `r vars_lt10pct_missing` variables with fewer than 10% missing data to `r vars_gt50pct_missing` varaibles from IEsE 2014 with more than 50% missingness. The overall mean skewness was low (mean absolute skewness `r round(mean(distribution_summary$value), 2)`), suggesting limited departure from normality. Within the SCD-related variable set, `r round(cause_high_corr_pct, 1)`% of pairs had an absolute Pearson correlation greater than 0.7, suggestign some redundancy among predictors. Among QoL-related variables, `r round(effect_high_corr_pct, 1)`% of pairs exceeded this threshold, indicating minimal multicollinearity.

## Results

### IESE and IMD rankings evaluate similar constructs

```{r ieseimdcorr,echo=FALSE}

ieserank2024 <- alldata[["RankIESE2024"]]
imdrank2023  <- alldata[["RankIMD2023"]]
iesescore2024 <- alldata[["CIMI2024"]]

pearson_imd_iese_rank <- cor.test(
  ieserank2024, 
  imdrank2023, 
  method = "pearson", 
  use = "pairwise.complete.obs"
  )
pearson_imd_iese_score <- cor.test(
  iesescore2024, 
  imdrank2023,
  method = "pearson", 
  use = "pairwise.complete.obs"
  )


spearman_imd_iese_rank <- cor.test(
  ieserank2024, 
  imdrank2023, 
  method = "spearman", 
  use = "pairwise.complete.obs"
  )
spearman_imd_iese_score <- cor.test(
  iesescore2024, 
  imdrank2023, 
  method = "spearman", 
  use = "pairwise.complete.obs"
  )

```
Normality of the IESE 2024 and IMD 2023 ranks was assessed using Shapiro-Wilk tests, which indicated no significant deviation from normality (p = `r round(shapiro.test(ieserank2024)$p.value, 3)` and p = `r round(shapiro.test(imdrank2023)$p.value, 3)`, respectively). The IESE composite score, however, showed significant non-normality (p = `r formatC(shapiro.test(iesescore2024)$p.value, format = "e", digits = 2)`). Accordingly, Pearson correlation was used to assess the association between IESE and IMD rankings. The positive correlation was strong (r = `r round(pearson_imd_iese_rank$estimate, 2)`, p = `r round(pearson_imd_iese_rank$p.value, 3)`, df = `r length(na.omit(ieserank2024)) - 2`). 

```{r imdvsiese,echo=FALSE, fig.cap="Scatterplots illustrating the correlation between IMD 2023 rankings and IESE 2024 indicators."}

p1imdvsiese <- ggplot(
  alldata %>% filter(!is.na(RankIMD2023), !is.na(RankIESE2024)), 
  aes(x = RankIESE2024, y = RankIMD2023)
  ) +
  geom_point() +
  labs(
    x = "IESE 2024 Rank",
    y = "IMD 2023 Rank"
  )

p2imdvsiese <- ggplot(
  alldata %>% filter(!is.na(RankIMD2023), !is.na(CIMI2024)), 
  aes(x = CIMI2024, y = RankIMD2023, label = City)
) +
  geom_point() +
  geom_text_repel(size = 3) +
  labs(
    x = "IESE 2024 Score",
    y = "IMD 2023 Rank"
  )

p1imdvsiese + p2imdvsiese
```

Figure 1 illustrates the non-normality of IESE CIMI scores, introduced by the much higher score attributed to New York. Given the non-normality of the IESE composite score, Spearman's rho was used to assess its association with the IMD ranking. The rank-based correlation was `r round(spearman_imd_iese_score$estimate, 2)` (p = `r round(spearman_imd_iese_score$p.value, 3)`, df = `r length(na.omit(iesescore2024)) - 2`). Although the latter test was not statistically significant, the former test indicates that IESE and IMD rankings capture broadly similar dimensions.

### Expert SCD ratings are stable in time
```{r imdrankcorr,echo=FALSE}
cor_imdrank_2019_2020 <- cor.test(alldata$RankIMD2019, alldata$RankIMD2020, method = "pearson", use = "pairwise.complete.obs")
cor_imdrank_2020_2021 <- cor.test(alldata$RankIMD2020, alldata$RankIMD2021, method = "pearson", use = "pairwise.complete.obs")
cor_imdrank_2021_2023 <- cor.test(alldata$RankIMD2021, alldata$RankIMD2023, method = "pearson", use = "pairwise.complete.obs")

icc_imdrank_result <- icc(
  alldata %>% select(RankIMD2019, RankIMD2020, RankIMD2021, RankIMD2023),
  model = "oneway",
  type = "consistency"
)
```

Pairwise Pearson correlation analysis between consecutive IMD reports indicate stability of IMD rankings over time. The correlation between 2019 and 2020 was high (r = `r round(cor_imdrank_2019_2020$estimate, 2)`, p = `r round(cor_imdrank_2019_2020$p.value, 3)`), as was the correlation between 2020 and 2021 (r = `r round(cor_imdrank_2020_2021$estimate, 2)`, p = `r formatC(cor_imdrank_2020_2021$p.value, format = "e", digits = 2)`), and between 2021 and 2023 (r = `r round(cor_imdrank_2021_2023$estimate, 2)`,  `r formatC(cor_imdrank_2021_2023$p.value, format = "e", digits = 2)`). To summarize the overall consistency across years, we computed the intraclass correlation coefficient (ICC), using a one-way random-effects model. The ICC was `r round(icc_imdrank_result$value, 2)`, significantly greater than zero (F(`r icc_imdrank_result$df1`, `r icc_imdrank_result$df2`) = `r round(icc_imdrank_result$Fvalue, 1)`, p = `r formatC(icc_imdrank_result$p.value, format = "e", digits = 2)`), with a 95% confidence interval ranging from `r round(icc_imdrank_result$lbound, 2)` to `r round(icc_imdrank_result$ubound, 2)`.  These results suggest a strong persistence of relative city rankings across the observed period.

```{r imdintime,echo=FALSE,warning=FALSE,fig.cap="Trajectories of IMD Smart City rankings for each city (2019–2023)"}

imdrank_long <- alldata %>%
  select(City, RankIMD2019, RankIMD2020, RankIMD2021, RankIMD2023) %>%
  pivot_longer(
    cols = starts_with("RankIMD"),
    names_to = "Year",
    values_to = "Rank"
  ) %>%
  mutate(Year = str_remove(Year, "RankIMD") %>% as.integer())%>%
  group_by(City) %>%
  filter(sum(!is.na(Rank)) >= 2) %>%
  ungroup()

imdrank_long_labels <- imdrank_long %>%
  group_by(City) %>%
  filter(Year == max(Year[!is.na(Rank)])) %>%
  ungroup()

ggplot(imdrank_long, aes(x = Year, y = Rank, group = City)) +
  geom_line(alpha = 0.5, na.rm=TRUE) +
  geom_point() +
  geom_text_repel(
    data = imdrank_long_labels,
    aes(label = City),
    nudge_x = 0.5,
    na.rm=TRUE,
    size = 3,
    direction = "y",
    hjust = 0,
    segment.color = NA
  ) +
  scale_x_continuous(
    breaks = c(2019, 2020, 2021, 2023),
    expand = expansion(mult = c(0.05, 0.3))
  ) +
  scale_y_reverse(limits = c(100, 0)) +
  labs(
    x = "Year",
    y = "IMD Rank (less is better)"
  ) +
  theme_minimal()

```

In addition to the statistical analysis, a plot of IMD ranks across the four timepoints (Fig. 2) supports the notion of stable rankings, with the general decreasing tend explained by the addition of non-US cities that rank extremely well by IMD metrics (Canberra, Wellington, Reykjavik, Lausanne), in a manner that does not affect the US hierarachy.

### SCD ratings components correlate moderate between domains, with the exception of reported Concerns

```{r imdcomponentscorr,echo=FALSE,warning=FALSE}

cor_hdi_tech <- cor.test(alldata$HDI, alldata$IMD_Technologies_Sum, method = "pearson", use = "pairwise.complete.obs")
cor_hdi_struct <- cor.test(alldata$HDI, alldata$IMD_Structures_Sum, method = "pearson", use = "pairwise.complete.obs")
cor_tech_struct <- cor.test(alldata$IMD_Technologies_Sum, alldata$IMD_Structures_Sum, method = "pearson", use = "pairwise.complete.obs")

cor_hdi_concerns <- cor.test(alldata$HDI, alldata$IMD_Concerns_Sum, method = "spearman", use = "pairwise.complete.obs")
cor_tech_concerns <- cor.test(alldata$IMD_Technologies_Sum, alldata$IMD_Concerns_Sum, method = "spearman", use = "pairwise.complete.obs")
cor_struct_concerns <- cor.test(alldata$IMD_Structures_Sum, alldata$IMD_Concerns_Sum, method = "spearman", use = "pairwise.complete.obs")

cor_hdi_concerns_nodenver <- cor.test(
  alldata$HDI[alldata$IMD_Structures_Sum != "Denver"],
  alldata$IMD_Concerns_Sum[alldata$IMD_Structures_Sum != "Denver"],
  method = "spearman",
  use = "pairwise.complete.obs"
  )
cor_tech_concerns_nodenver <- cor.test(
  alldata$IMD_Technologies_Sum[alldata$IMD_Structures_Sum != "Denver"],
  alldata$IMD_Concerns_Sum[alldata$IMD_Structures_Sum != "Denver"],
  method = "spearman",
  use = "pairwise.complete.obs"
)
cor_struct_concerns_nodenver <- cor.test(
  alldata$IMD_Structures_Sum[alldata$IMD_Structures_Sum != "Denver"],
  alldata$IMD_Concerns_Sum[alldata$IMD_Structures_Sum != "Denver"],
  method = "spearman",
  use = "pairwise.complete.obs"
  )

```

Surprisingly, in the IMD survey, which provides domain metrics, not all of the four components of the SCD assessement correlate well between cities. Specifically, Pearson correlation analysis did not support a correlation between HDI and the sum of IMD Technologies indicators (r = `r round(cor_hdi_tech$estimate, 2)`, p = `r round(cor_hdi_tech$p.value, 3)`). In contrast, the correlation between HDI and the sum of IMD Structures indicators was r = `r round(cor_hdi_struct$estimate, 2)`, p = `r round(cor_hdi_struct$p.value, 3)`. The correlation between IMD Technologies and IMD Structures was r = `r round(cor_tech_struct$estimate, 2)`, p = `r round(cor_tech_struct$p.value, 3)`.

The IMD Concerns sum significantly from normality (p = `r round(shapiro.test(alldata$IMD_Concerns_Sum)$p.value, 3)`), unlike the other three IMD domains. Therefore, for associations involving the non-normally distributed IMD Concerns sum, Spearman correlations were used instead. Evidence of a correlation between HDI and IMD Concerns was found using Spearman's method (ρ = `r round(cor_hdi_concerns$estimate, 2)`, p = `r round(cor_hdi_concerns$p.value, 3)`). On the other hand, there was no evidence for an association between Technologies and Concerns (ρ = `r round(cor_tech_concerns$estimate, 2)`, p = `r round(cor_tech_concerns$p.value, 3)`), nor for the association between Structures and Concerns (ρ = `r round(cor_struct_concerns$estimate, 2)`, p = `r round(cor_struct_concerns$p.value, 3)`).

A plot of these potential correlation (Fig. 3) indicates confirms that IMD Concerns scores are not normally distributed, with an extremely low sum of Concerns indicators for Denver. Nevertheless, Denver's exclusion fails to improve statistical significance between the sum of IMD Concerns indicators and the other domain indicator sums (data not shown). 


```{r imdcomponentsplot,echo=FALSE,warning=FALSE,message=FALSE,fig.cap="Correlations between IMD Smart City score domains"}

p1imdcomponents <- ggplot(
  alldata %>% filter(!is.na(HDI)),
  aes(x = HDI, y = IMD_Concerns_Sum, label = City)
  ) +
  geom_point(size = 1.5) +
  scale_x_continuous(limits = c(0.907, 0.95), breaks = seq(0.91, 0.95, 0.01)) +
  scale_y_continuous(limits = c(443, 470), breaks = seq(450, 470, 10)) +
  geom_smooth(method = "lm", se = TRUE, color = "grey", fill = "lightgrey", alpha = 0.2) +
  labs(x = "HDI", y = "IMD Concerns") +
  geom_text_repel(size = 1) +
  theme_minimal(base_size = 8)

p2imdcomponents <- ggplot(alldata, aes(x = IMD_Technologies_Sum, y = IMD_Concerns_Sum)) +
  geom_point(size = 1.5) +
  scale_x_continuous(limits = c(960, 1280), breaks = seq(960, 1280, 80)) +
  scale_y_continuous(limits = c(443, 470), breaks = seq(450, 470, 10)) +
  geom_smooth(method = "lm", se = TRUE, color = "grey", fill = "lightgrey", alpha = 0.2) +
  labs(x = "IMD Technologies", y = "IMD Concerns") +
  theme_minimal(base_size = 8)

p3imdcomponents <- ggplot(alldata, aes(x = IMD_Structures_Sum, y = IMD_Concerns_Sum)) +
  geom_point(size = 1.5) +
  scale_x_continuous(limits = c(880, 1120), breaks = seq(880, 1120, 40)) +
  scale_y_continuous(limits = c(443, 470), breaks = seq(450, 470, 10)) +
  geom_smooth(method = "lm", se = TRUE, color = "grey", fill = "lightgrey", alpha = 0.2) +
  labs(x = "IMD Structures", y = "IMD Concerns") +
  theme_minimal(base_size = 8)

p4imdcomponents <- ggplot(alldata, aes(x = HDI, y = IMD_Structures_Sum)) +
  geom_point(size = 1.5) +
  scale_x_continuous(limits = c(0.907, 0.95), breaks = seq(0.91, 0.95, 0.01)) +
  scale_y_continuous(limits = c(880, 1120), breaks = seq(880, 1120, 40)) +
  geom_smooth(method = "lm", se = TRUE, color = "grey", fill = "lightgrey", alpha = 0.2) +
  labs(x = "HDI", y = "IMD Structures") +
  theme_minimal(base_size = 8)

p5imdcomponents <- ggplot(alldata, aes(x = IMD_Technologies_Sum, y = IMD_Structures_Sum)) +
  geom_point(size = 1.5) +
  scale_x_continuous(limits = c(960, 1280), breaks = seq(960, 1280, 80)) +
  scale_y_continuous(limits = c(880, 1120), breaks = seq(880, 1120, 40)) +
  geom_smooth(method = "lm", se = TRUE, color = "grey", fill = "lightgrey", alpha = 0.2) +
  labs(x = "IMD Technologies", y = "IMD Structures") +
  theme_minimal(base_size = 8)

p6imdcomponents <- ggplot(alldata, aes(x = HDI, y = IMD_Technologies_Sum)) +
  geom_point(size = 1.5) +
  scale_x_continuous(limits = c(0.907, 0.95), breaks = seq(0.91, 0.95, 0.01)) +
  scale_y_continuous(limits = c(960, 1280), breaks = seq(960, 1280, 80)) +
  geom_smooth(method = "lm", se = TRUE, color = "grey", fill = "lightgrey", alpha = 0.2) +
  labs(x = "HDI", y = "IMD Technologies") +
  theme_minimal(base_size = 8)

(p6imdcomponents + plot_spacer() + plot_spacer()) / (p4imdcomponents + p5imdcomponents + plot_spacer()) / (p1imdcomponents + p2imdcomponents + p3imdcomponents)
```

### QoL metrics do not fall into agreement

```{r echo=FALSE}
cor_usnw_numbeo_qol <- cor.test(
  alldata$ScoreUSNewsQoL, 
  alldata$`Numbeo.com QoL Score`,
  method = "pearson",
  use = "pairwise.complete.obs"
  )
cor_usnw_numbeo_components <- lapply(
  numbeo_component_vars, 
  function(var) {
    cor.test(alldata$ScoreUSNewsQoL, alldata[[var]], method = "pearson", use = "pairwise.complete.obs")
  }
)
names(cor_usnw_numbeo_components) <- numbeo_component_vars
```

Another failure to support one of hypothese was noted when testing  Pearson correlation between the USNW and Numbeo.com QoL metrics. In the global analysis, there was no statistical significance for an eventual correlation (r = `r round(cor_usnw_numbeo_qol$estimate, 2)`, p = `r round(cor_usnw_numbeo_qol$p.value, 3)`). To explore potential partial overlaps, Pearson correlation analysis was applied to all the possible combinations between the USNW QoL score and each of the eight Numbeo component indices. The only meaningful correaltion was the negative correlation between the USNW QoL score and Numbeo Pollution Index (r = `r round(cor_usnw_numbeo_components[["Numbeo.com Pollution Index"]]$estimate, 2)`, p = `r round(cor_usnw_numbeo_components[["Numbeo.com Pollution Index"]]$p.value, 3)`). Counterintutively, the USNW QoL score exhibited significant positive correlation with the Numbeo Cost of Living Index (r = `r round(cor_usnw_numbeo_components[["Numbeo.com Cost of Living Index"]]$estimate, 2)`, p = `r round(cor_usnw_numbeo_components[["Numbeo.com Cost of Living Index"]]$p.value, 3)`) and weak positive correlation with the Property Price to Income Ratio (r = `r round(cor_usnw_numbeo_components[["Numbeo.com Property Price to Income Ratio"]]$estimate, 2)`, p = `r round(cor_usnw_numbeo_components[["Numbeo.com Property Price to Income Ratio"]]$p.value, 3)`). No other Numbeo components displayed strong or statistically significant associations with the USNW QoL score. These results, as well as the corespnding graphic representation (Fig. 4) suggest that, while some aspects of local affordability and environmental quality relate to the USNW metric, broader alignment between the two systems remains limited.

```{r usnwvsnumbeoplot,echo=FALSE,warning=FALSE,message=FALSE,echo=FALSE, fig.cap="Weak correlation between USNW and Numbeo QoL scores"}

ggplot(alldata, aes(x = ScoreUSNewsQoL, y = `Numbeo.com QoL Score`, label = City)) +
  geom_point(size = 1.5) +
  geom_smooth(method = "lm", se = TRUE, color = "black", fill = "lightblue", alpha = 0.2) +
  geom_text_repel(size = 3) +
  scale_x_continuous(limits = c(5, 7.5), breaks = seq(5, 7.5, 0.5)) +
  scale_y_continuous(limits = c(130, 185), breaks = seq(130, 185, 10)) +
  labs(
    x = "USNW QoL Score",
    y = "Numbeo.com QoL Score"
  ) +
  theme_minimal(base_size = 8)
```

### Data does not support a correlation between SCD metrics and QoL metrics

```{r qolscd_corrs,echo=FALSE,warning=FALSE}
shapiro_rankimd2023 <- shapiro.test(alldata$RankIMD2023)
shapiro_rankiese2024 <- shapiro.test(alldata$RankIESE2024)
shapiro_usnw_qol <- shapiro.test(alldata$ScoreUSNewsQoL)
shapiro_numbeo_qol <- shapiro.test(alldata$`Numbeo.com QoL Score`)

cor_usnw_imd <- cor.test(alldata$ScoreUSNewsQoL, alldata$RankIMD2023, method = "pearson", use = "pairwise.complete.obs")
cor_usnw_iese <- cor.test(alldata$ScoreUSNewsQoL, alldata$RankIESE2024, method = "pearson", use = "pairwise.complete.obs")
cor_numbeo_imd <- cor.test(alldata$`Numbeo.com QoL Score`, alldata$RankIMD2023, method = "pearson", use = "pairwise.complete.obs")
cor_numbeo_iese <- cor.test(alldata$`Numbeo.com QoL Score`, alldata$RankIESE2024, method = "pearson", use = "pairwise.complete.obs")

```

The normality of the main QoL and SCD indicators was assessed using Shapiro-Wilk tests. None of the tests rejected the null hypothesis of normality (data not shown), justifying the use of Pearson correlation for subsequent analyses. The correlation between USNW QoL scores and the IMD 2023 SCD ranking was moderate and negative (r = `r round(cor_usnw_imd$estimate, 2)`, p = `r round(cor_usnw_imd$p.value, 3)`), but did not reach statistical significance. A similar negative trend was observed between USNW QoL scores and the IESE 2024 ranking (r = `r round(cor_usnw_iese$estimate, 2)`, p = `r round(cor_usnw_iese$p.value, 3)`). In contrast, correlations between the Numbeo QoL score and either SCD ranking were weak (r = `r round(cor_numbeo_imd$estimate, 2)` and r = `r round(cor_numbeo_iese$estimate, 2)`, respectively) and nonsignificant (p = `r round(cor_numbeo_imd$p.value, 3)` and p = `r round(cor_numbeo_iese$p.value, 3)`, respectively).

```{r qolscdplot,echo=FALSE,message=FALSE,warning=FALSE,fig.cap="Weak associations between SCD ranks and QoL scores. Rank axes are inverted."}

p1qolscd <- ggplot(alldata, aes(x = RankIMD2023, y = ScoreUSNewsQoL)) +
  geom_point(size = 1.5) +
  geom_smooth(method = "lm", se = TRUE, color = "grey40", fill = "lightgrey", alpha = 0.3) +
  geom_text_repel(aes(label = City), size = 2.5, max.overlaps = 15) +
  scale_y_reverse() +
  labs(x = "IMD 2023 Rank (less is better)", y = "USNW QoL Score") +
  theme_minimal(base_size = 8)

p2qolscd <- ggplot(alldata, aes(x = RankIESE2024, y = ScoreUSNewsQoL)) +
  geom_point(size = 1.5) +
  geom_smooth(method = "lm", se = TRUE, color = "grey40", fill = "lightgrey", alpha = 0.3) +
  scale_y_reverse() +
  labs(x = "IESE 2024 Rank (less is better)", y = "USNW QoL Score") +
  theme_minimal(base_size = 8)

p3qolscd <- ggplot(alldata, aes(x = RankIMD2023, y = `Numbeo.com QoL Score`)) +
  geom_point(size = 1.5) +
  geom_smooth(method = "lm", se = TRUE, color = "grey40", fill = "lightgrey", alpha = 0.3) +
  scale_y_reverse() +
  labs(x = "IMD 2023 Rank (less is better)", y = "Numbeo QoL Score") +
  theme_minimal(base_size = 8)

p4qolscd <- ggplot(alldata, aes(x = RankIESE2024, y = `Numbeo.com QoL Score`)) +
  geom_point(size = 1.5) +
  geom_smooth(method = "lm", se = TRUE, color = "grey40", fill = "lightgrey", alpha = 0.3) +
  scale_y_reverse() +
  labs(x = "IESE 2024 Rank (less is better)", y = "Numbeo QoL Score") +
  theme_minimal(base_size = 8)

(p3qolscd + p4qolscd) / (p1qolscd + p2qolscd)
```

A plot of the above-analyzed correlation (Fig. 5) confirms the hypothesized trend towards better QoL rankings for cities with stronger SCD polices, when the QoL is assessed by USNW. Paradoxically, the minute effect that SCD policies appear to have on Numbeo.com rankings manifest as trends towards positive correlation, that is, stronger SCD policies associate with worse QoL Numbeo.com rankings. In the next section, we will investigate which dimensions of Numbeo.com or IMD composite scores are best associated with the marginal effects uncovered here.


### Numbeo.com QoL metrics are negatively correlated with most technology-related SCD items

```{r imdcorrelates,echo=FALSE,warning=FALSE}
shapiro_usnw_qol <- shapiro.test(alldata$ScoreUSNewsQoL)
shapiro_numbeo_qol <- shapiro.test(alldata$`Numbeo.com QoL Score`)
shapiro_imd_structures <- shapiro.test(alldata$IMD_Structures_Sum)
shapiro_imd_technologies <- shapiro.test(alldata$IMD_Technologies_Sum)
shapiro_imd_concerns <- shapiro.test(alldata$IMD_Concerns_Sum)
shapiro_hdi <- shapiro.test(alldata$HDI)

cor_usnw_structures <- cor.test(alldata$ScoreUSNewsQoL, alldata$IMD_Structures_Sum, method = "pearson", use = "pairwise.complete.obs")
cor_usnw_technologies <- cor.test(alldata$ScoreUSNewsQoL, alldata$IMD_Technologies_Sum, method = "pearson", use = "pairwise.complete.obs")
cor_usnw_concerns <- cor.test(alldata$ScoreUSNewsQoL, alldata$IMD_Concerns_Sum, method = "spearman", use = "pairwise.complete.obs")
cor_usnw_hdi <- cor.test(alldata$ScoreUSNewsQoL, alldata$HDI, method = "pearson", use = "pairwise.complete.obs")

cor_numbeo_structures <- cor.test(alldata$`Numbeo.com QoL Score`, alldata$IMD_Structures_Sum, method = "pearson", use = "pairwise.complete.obs")
cor_numbeo_technologies <- cor.test(alldata$`Numbeo.com QoL Score`, alldata$IMD_Technologies_Sum, method = "pearson", use = "pairwise.complete.obs")
cor_numbeo_concerns <- cor.test(alldata$`Numbeo.com QoL Score`, alldata$IMD_Concerns_Sum, method = "spearman", use = "pairwise.complete.obs")
cor_numbeo_hdi <- cor.test(alldata$`Numbeo.com QoL Score`, alldata$HDI, method = "pearson", use = "pairwise.complete.obs")

imd_structure_usnw_correlations <- lapply(imd_structures_vars, function(var) {
  test <- cor.test(alldata[[var]], alldata$ScoreUSNewsQoL, method = "pearson", use = "pairwise.complete.obs")
  list(r = test$estimate, p = test$p.value)
})
names(imd_structure_usnw_correlations) <- imd_structures_vars

imd_structure_usnw_cor_df <- data.frame(
  Component = names(imd_structure_usnw_correlations),
  r = sapply(imd_structure_usnw_correlations, function(x) x$r),
  p = sapply(imd_structure_usnw_correlations, function(x) x$p)
)

imd_structure_usnw_cor_df <- imd_structure_usnw_cor_df[order(-abs(imd_structure_usnw_cor_df$r)), ]
top5_imd_structure_usnw <- head(imd_structure_usnw_cor_df, 5)

imd_technology_numbeo_correlations <- lapply(imd_technologies_vars, function(var) {
  test <- cor.test(alldata[[var]], alldata$`Numbeo.com QoL Score`, method = "pearson", use = "pairwise.complete.obs")
  list(r = test$estimate, p = test$p.value)
})
names(imd_technology_numbeo_correlations) <- imd_technologies_vars

imd_technology_numbeo_cor_df <- data.frame(
  Component = names(imd_technology_numbeo_correlations),
  r = sapply(imd_technology_numbeo_correlations, function(x) x$r),
  p = sapply(imd_technology_numbeo_correlations, function(x) x$p)
)

imd_technology_numbeo_cor_df <- imd_technology_numbeo_cor_df[order(-abs(imd_technology_numbeo_cor_df$r)), ]
top5_imd_technology_numbeo <- head(imd_technology_numbeo_cor_df, 15)

```

We have seen that IMD-assessed SCD exhibit a trend towards association with better QoL rankings, when originating from USNW. In this section, we attempt to uncover which of the IMD domains coordinates best with improved QoL. The general trands are illustrated in Fig. 6.

```{r imddomainsvsqolplot,fig.width=8,fig.height=10,echo=FALSE,message=FALSE,warning=FALSE,fig.cap="Associations between SCD domain scores, as evaluated by IMD, and QoL scores"}

p1_imd_qol <- ggplot(alldata, aes(x = IMD_Structures_Sum, y = ScoreUSNewsQoL)) +
  geom_point(size = 1.5) +
  geom_smooth(method = "lm", se = TRUE, color = "grey40", fill = "lightgrey", alpha = 0.3) +
  scale_x_continuous(limits = c(880, 1120), breaks = seq(880, 1120, 40)) +
  scale_y_continuous(limits = c(5, 7.5), breaks = seq(5, 7.5, 0.5)) +
  labs(x = "IMD Structures Sum", y = "USNW QoL Score") +
  theme_minimal(base_size = 8)

p2_imd_qol <- ggplot(alldata, aes(x = IMD_Technologies_Sum, y = ScoreUSNewsQoL)) +
  geom_point(size = 1.5) +
  geom_smooth(method = "lm", se = TRUE, color = "grey40", fill = "lightgrey", alpha = 0.3) +
  scale_x_continuous(limits = c(960, 1280), breaks = seq(960, 1280, 80)) +
  scale_y_continuous(limits = c(5, 7.5), breaks = seq(5, 7.5, 0.5)) +
  labs(x = "IMD Technologies Sum", y = "USNW QoL Score") +
  theme_minimal(base_size = 8) 

p3_imd_qol <- ggplot(alldata, aes(x = IMD_Concerns_Sum, y = ScoreUSNewsQoL)) +
  geom_point(size = 1.5) +
  geom_smooth(method = "lm", se = TRUE, color = "grey40", fill = "lightgrey", alpha = 0.3) +
  scale_x_continuous(limits = c(443, 470), breaks = seq(450, 470, 10)) +
  scale_y_continuous(limits = c(5, 7.5), breaks = seq(5, 7.5, 0.5)) +
  labs(x = "IMD Concerns Sum", y = "USNW QoL Score") +
  theme_minimal(base_size = 8) 

p4_imd_qol <- ggplot(alldata, aes(x = HDI, y = ScoreUSNewsQoL)) +
  geom_point(size = 1.5) +
  geom_smooth(method = "lm", se = TRUE, color = "grey40", fill = "lightgrey", alpha = 0.3) +
  scale_x_continuous(limits = c(0.907, 0.95), breaks = seq(0.91, 0.95, 0.01)) +
  scale_y_continuous(limits = c(5, 7.5), breaks = seq(5, 7.5, 0.5)) +
  labs(x = "HDI", y = "USNW QoL Score") +
  theme_minimal(base_size = 8) 

p5_imd_qol <- ggplot(alldata, aes(x = IMD_Structures_Sum, y = `Numbeo.com QoL Score`)) +
  geom_point(size = 1.5) +
  geom_smooth(method = "lm", se = TRUE, color = "grey40", fill = "lightgrey", alpha = 0.3) +
  scale_x_continuous(limits = c(880, 1120), breaks = seq(880, 1120, 40)) +
  scale_y_continuous(limits = c(130, 185), breaks = seq(130, 185, 10)) +
  labs(x = "IMD Structures Sum", y = "Numbeo QoL Score") +
  theme_minimal(base_size = 8) 

p6_imd_qol <- ggplot(alldata, aes(x = IMD_Technologies_Sum, y = `Numbeo.com QoL Score`)) +
  geom_point(size = 1.5) +
  geom_smooth(method = "lm", se = TRUE, color = "grey40", fill = "lightgrey", alpha = 0.3) +
  scale_x_continuous(limits = c(960, 1280), breaks = seq(960, 1280, 80)) +
  scale_y_continuous(limits = c(130, 185), breaks = seq(130, 185, 10)) +
  labs(x = "IMD Technologies Sum", y = "Numbeo QoL Score") +
  theme_minimal(base_size = 8)

p7_imd_qol <- ggplot(alldata, aes(x = IMD_Concerns_Sum, y = `Numbeo.com QoL Score`)) +
  geom_point(size = 1.5) +
  geom_smooth(method = "lm", se = TRUE, color = "grey40", fill = "lightgrey", alpha = 0.3) +
  scale_x_continuous(limits = c(443, 470), breaks = seq(450, 470, 10)) +
  scale_y_continuous(limits = c(130, 185), breaks = seq(130, 185, 10)) +
  labs(x = "IMD Concerns Sum", y = "Numbeo QoL Score") +
  theme_minimal(base_size = 8)

p8_imd_qol <- ggplot(alldata, aes(x = HDI, y = `Numbeo.com QoL Score`)) +
  geom_point(size = 1.5) +
  geom_smooth(method = "lm", se = TRUE, color = "grey40", fill = "lightgrey", alpha = 0.3) +
  scale_x_continuous(limits = c(0.907, 0.95), breaks = seq(0.91, 0.95, 0.01)) +
  scale_y_continuous(limits = c(130, 185), breaks = seq(130, 185, 10)) +
  labs(x = "HDI", y = "Numbeo QoL Score") +
  theme_minimal(base_size = 8)

(p1_imd_qol + p5_imd_qol) / (p2_imd_qol + p6_imd_qol) / (p3_imd_qol + p7_imd_qol) / (p4_imd_qol + p8_imd_qol) & 
  theme(aspect.ratio = 0.75)
```

As shown earlier, the sum of IMD Concerns indicators deviates significantly from normality. Accordingly, correlations involving it were assessed using Spearman's method, while the other IMD domains were tested with Pearson's method.

Among USNW-related associations, a moderate positive correlation was found with sum of IMD Structures (r = `r round(cor_usnw_structures$estimate, 2)`, p = `r round(cor_usnw_structures$p.value, 3)`) and with HDI (r = `r round(cor_usnw_hdi$estimate, 2)`, p = `r round(cor_usnw_hdi$p.value, 3)`), although neither reached statistical significance. The correlation between USNW QoL and sum of IMD Technologies was near zero (r = `r round(cor_usnw_technologies$estimate, 2)`, p = `r round(cor_usnw_technologies$p.value, 3)`), and the Spearman correlation with sum IMD Concerns was weak (ρ = `r round(cor_usnw_concerns$estimate, 2)`, p = `r round(cor_usnw_concerns$p.value, 3)`). Correlation analysis between the USNW QoL score and the various items listed under IMD Structures reveals that the better-asociated items are not necessarily those that we normally associate with SCD, especially within the US/NIST paradigm. For example, the item that best predicts a good USNW QoL score is the availability of bars and museums (Table 1).

```{r structurestable,tbl.cap="Top 5 correlations between IMD Structure items and USNW QoL Score, sorted by absolute value of Pearson r",echo=FALSE,warning=FALSE}
kable(
  top5_imd_structure_usnw,
  format = "simple",
  digits = 3,
  row.names = FALSE,
  col.names = c("IMD Structures component", "Pearson r", "p-value")
)

```

For Numbeo QoL, no meaningful correlations were observed with the sum of IMD Structures (r = `r round(cor_numbeo_structures$estimate, 2)`, p = `r round(cor_numbeo_structures$p.value, 3)`), HDI (r = `r round(cor_numbeo_hdi$estimate, 2)`, p = `r round(cor_numbeo_hdi$p.value, 3)`), or sum of IMD Concerns (ρ = `r round(cor_numbeo_concerns$estimate, 2)`, p = `r round(cor_numbeo_concerns$p.value, 3)`). A significant negative correlation was found between Numbeo QoL and sum of IMD Technologies (r = `r round(cor_numbeo_technologies$estimate, 2)`, p = `r round(cor_numbeo_technologies$p.value, 3)`). Moreover, a large number of items that fit the NIST/US definition of SCD, listed under IMD Technologies, are, unexpectedly, negatively correlated with Numbeo.co QoL scores.

```{r technologiestable, tbl.cap="Top 15 correlations between IMD Technology items and Numbeo QoL Score, sorted by absolute value of Pearson r", echo=FALSE, warning=FALSE}
kable(
  top5_imd_technology_numbeo,
  format = "simple",
  digits = 3,
  row.names = FALSE,
  col.names = c("IMD Technology component", "Pearson r", "p-value")
)
```

These findings suggest a domain-specific relationship between QoL metrics and technological SCD dimensions, with technological dimensions showing a strong, negative association, particularly when assessed through Numbeo.

### Several subdomains of Numbeo.com QoL metric negatively correlate with technology SCD

Despite the unassuming lack of correlation with various other general metrics, Numbeo.com QoL metrics are solidly, and paradoxically negatively corelated with technology-related SCD policies, as measured by the IMD. In this section, we attempt to find which of the eight dimensions of Numbeo.com QoL assessment are more impactd by tchnology SCD policies. General trends may be visualized in Fig. 7.
```{r imdtechvsnumbeoplot,fig.width=8,fig.height=10,echo=FALSE,message=FALSE,warning=FALSE,fig.cap="Associations between Numbeo.com QoL domain scores, as evaluated by IMD, and sum of IMD Technologies indicators"}

p1_imdtech_numbeo <- ggplot(alldata, aes(x = IMD_Technologies_Sum, y = `Numbeo.com Purchasing Power Index`)) +
  geom_point(size = 1.5) +
  geom_smooth(method = "lm", se = TRUE, color = "grey40", fill = "lightgrey", alpha = 0.3) +
  scale_x_continuous(limits = c(960, 1280), breaks = seq(960, 1280, 80)) +
  scale_y_continuous(limits = c(95, 150), breaks = seq(90, 150, 10)) +
  labs(x = "IMD Technologies Sum", y = "Numbeo.com Purchasing Power Index") +
  theme_minimal(base_size = 8)

p2_imdtech_numbeo <- ggplot(alldata, aes(x = IMD_Technologies_Sum, y = `Numbeo.com Safety Index`)) +
  geom_point(size = 1.5) +
  geom_smooth(method = "lm", se = TRUE, color = "grey40", fill = "lightgrey", alpha = 0.3) +
  scale_x_continuous(limits = c(960, 1280), breaks = seq(960, 1280, 80)) +
  scale_y_continuous(limits = c(24, 60), breaks = seq(25, 60, 5)) +
  labs(x = "IMD Technologies Sum", y = "Numbeo.com Safety Index") +
  theme_minimal(base_size = 8) 

p3_imdtech_numbeo <- ggplot(alldata, aes(x = IMD_Technologies_Sum, y = `Numbeo.com Health Care Index`)) +
  geom_point(size = 1.5) +
  geom_smooth(method = "lm", se = TRUE, color = "grey40", fill = "lightgrey", alpha = 0.3) +
  scale_x_continuous(limits = c(960, 1280), breaks = seq(960, 1280, 80)) +
  scale_y_continuous(limits = c(53, 75), breaks = seq(55, 75, 5)) +
  labs(x = "IMD Technologies Sum", y = "Numbeo.com Health Care Index") +
  theme_minimal(base_size = 8) 

p4_imdtech_numbeo <- ggplot(alldata, aes(x = IMD_Technologies_Sum, y = `Numbeo.com Climate Index`)) +
  geom_point(size = 1.5) +
  geom_smooth(method = "lm", se = TRUE, color = "grey40", fill = "lightgrey", alpha = 0.3) +
  scale_x_continuous(limits = c(960, 1280), breaks = seq(960, 1280, 80)) +
  scale_y_continuous(limits = c(52, 100), breaks = seq(55, 100, 5)) +
  labs(x = "IMD Technologies Sum", y = "Numbeo.com Climate Index") +
  theme_minimal(base_size = 8) 

p5_imdtech_numbeo <- ggplot(alldata, aes(x = IMD_Technologies_Sum, y = `Numbeo.com Cost of Living Index`)) +
  geom_point(size = 1.5) +
  geom_smooth(method = "lm", se = TRUE, color = "grey40", fill = "lightgrey", alpha = 0.3) +
  scale_x_continuous(limits = c(960, 1280), breaks = seq(960, 1280, 80)) +
  scale_y_continuous(limits = c(65, 100), breaks = seq(65, 100, 5)) +
  labs(x = "IMD Technologies Sum", y = "Numbeo.com Cost of Living Index") +
  theme_minimal(base_size = 8) 

p6_imdtech_numbeo <- ggplot(alldata, aes(x = IMD_Technologies_Sum, y = `Numbeo.com Property Price to Income Ratio`)) +
  geom_point(size = 1.5) +
  geom_smooth(method = "lm", se = TRUE, color = "grey40", fill = "lightgrey", alpha = 0.3) +
  scale_x_continuous(limits = c(960, 1280), breaks = seq(960, 1280, 80)) +
  scale_y_continuous(limits = c(0, 14), breaks = seq(0, 14, 2)) +
  labs(x = "IMD Technologies Sum", y = "Numbeo.com Property Price to Income Ratio") +
  theme_minimal(base_size = 8)

p7_imdtech_numbeo <- ggplot(alldata, aes(x = IMD_Technologies_Sum, y = `Numbeo.com Traffic Commute Time Index`)) +
  geom_point(size = 1.5) +
  geom_smooth(method = "lm", se = TRUE, color = "grey40", fill = "lightgrey", alpha = 0.3) +
  scale_x_continuous(limits = c(960, 1280), breaks = seq(960, 1280, 80)) +
  scale_y_continuous(limits = c(25, 60), breaks = seq(25, 60, 5)) +
  labs(x = "IMD Technologies Sum", y = "Numbeo.com Traffic Commute Time Index") +
  theme_minimal(base_size = 8)

p8_imdtech_numbeo <- ggplot(alldata, aes(x = IMD_Technologies_Sum, y = `Numbeo.com Traffic Commute Time Index`)) +
  geom_point(size = 1.5) +
  geom_smooth(method = "lm", se = TRUE, color = "grey40", fill = "lightgrey", alpha = 0.3) +
  scale_x_continuous(limits = c(960, 1280), breaks = seq(960, 1280, 80)) +
  scale_y_continuous(limits = c(35, 70), breaks = seq(35, 70, 5)) +
  labs(x = "IMD Technologies Sum", y = "Numbeo.com Traffic Commute Time Index") +
  theme_minimal(base_size = 8)

(p1_imdtech_numbeo + p5_imdtech_numbeo) / (p2_imdtech_numbeo + p6_imdtech_numbeo) / (p3_imdtech_numbeo + p7_imdtech_numbeo) / (p4_imdtech_numbeo + p8_imdtech_numbeo) & 
  theme(aspect.ratio = 0.75)
```


```{r technumbeocorrs,echo=FALSE,warning=FALSE}
shapiro_numbeo_components <- lapply(
  numbeo_component_vars, 
  function(var) {
    test <- shapiro.test(alldata[[var]])
  }
)
names(shapiro_numbeo_components) <- numbeo_component_vars

imdtech_numbeo_correlations <- lapply(
  numbeo_component_vars,
  function(var) {
    test <- cor.test(alldata$IMD_Technologies_Sum, alldata[[var]], method = "pearson", use = "pairwise.complete.obs")
    list(r = test$estimate, p = test$p.value)
  }
)
names(imdtech_numbeo_correlations) <- numbeo_component_vars
```

Normality of IMD Technologies Sum and all Numbeo component indices was assessed using Shapiro-Wilk tests and was not rejected for any variable (data not shown), justifying the use of Pearson correlations. Among the eight Numbeo domains, three showed statistically significant associations with IMD Technologies Sum: the Health Care Index (r = `r round(imdtech_numbeo_correlations[["Numbeo.com Health Care Index"]]$r, 2)`, p = `r round(imdtech_numbeo_correlations[["Numbeo.com Health Care Index"]]$p, 3)`), the Cost of Living Index (r = `r round(imdtech_numbeo_correlations[["Numbeo.com Cost of Living Index"]]$r, 2)`, p = `r round(imdtech_numbeo_correlations[["Numbeo.com Cost of Living Index"]]$p, 3)`), and the Property Price to Income Ratio (r = `r round(imdtech_numbeo_correlations[["Numbeo.com Property Price to Income Ratio"]]$r, 2)`, p = `r round(imdtech_numbeo_correlations[["Numbeo.com Property Price to Income Ratio"]]$p, 3)`). No other domain displayed a significant correlation with IMD Technologies (data not shown). In other words, Numbeo.com respondents rating QoL in high-tech cities are negatively affected by increased cost of living, excessive real estates prices by comparison with incomes, and reduced access to quality healthcare.

### Multivariate linear regression models for the contribution of various QoL components to the technology-associated dissatisfaction

```{r threepredictors,echo=FALSE,warning=FALSE}

model_three_predictors <- lm(
  IMD_Technologies_Sum ~ 
  `Numbeo.com Health Care Index` + 
  `Numbeo.com Property Price to Income Ratio` +
  `Numbeo.com Cost of Living Index`,
  data = alldata
  )

summary_three_predictors <- summary(model_three_predictors)
vif_three_predictors <- vif(model_three_predictors)
dwtest_three_predictors <- dwtest(model_three_predictors)
jbtest_three_predictors <- jarque.bera.test(resid(model_three_predictors))
bptest_three_predictors <- bptest(model_three_predictors)
shapiro_three_predictors <- shapiro.test(resid(model_three_predictors))
```

A multiple linear regression model was tested to predict IMD Technologies Sum based on the three Numbeo dimensions shown earlier to best correlate with it, namely Health Care Index, Property Price to Income Ratio, and Cost of Living Index. The model showed a moderate fit (adjusted R² = `r round(summary_three_predictors$adj.r.squared, 3)`, p = `r signif(summary_three_predictors$fstatistic["p-value"], 2)`). Among the predictors, only the Health Care Index remained statistically significant (β = `r round(coef(summary_three_predictors)[2, "Estimate"], 2)`, p = `r round(coef(summary_three_predictors)[2, "Pr(>|t|)"], 3)`), while Property Price to Income Ratio (β = `r round(coef(summary_three_predictors)[3, "Estimate"], 2)`, p = `r round(coef(summary_three_predictors)[3, "Pr(>|t|)"], 3)`) and Cost of Living Index (β = `r round(coef(summary_three_predictors)[4, "Estimate"], 2)`, p = `r round(coef(summary_three_predictors)[4, "Pr(>|t|)"], 3)`) were not. Residuals passed tests for global normality (Jarque-Bera p = `r round(jbtest_three_predictors$p.value, 3)`) and heteroskedasticity (Breusch-Pagan p = `r round(bptest_three_predictors$p.value, 3)`). No autocorrelation was detected (Durbin-Watson = `r round(dwtest_three_predictors$statistic, 2)`, p = `r round(dwtest_three_predictors$p.value, 3)`). However, Shapiro-Wilk test indicated residual non-normality (p = `r round(shapiro_three_predictors$p.value, 3)`), and multicollinearity analysis revealed excessive inflation for Property Price to Income Ratio (VIF = `r round(vif_three_predictors[2], 2)`) and Cost of Living Index (VIF = `r round(vif_three_predictors[3], 2)`).

Given the lack of significance for the Cost of Living Index (p = `r round(coef(summary_three_predictors)[4, "Pr(>|t|)"], 3)`) and its substantial contribution to multicollinearity (VIF = `r round(vif_three_predictors[3], 2)`), we chose to drop this variable and pursue modling using the remaining two predictors.


```{r twopredictors, echo=FALSE, warning=FALSE}
model_two_predictors <- lm(
  IMD_Technologies_Sum ~
  `Numbeo.com Health Care Index` + 
  `Numbeo.com Property Price to Income Ratio`, 
  data = alldata)

summary_two_predictors <- summary(model_two_predictors)
vif_two_predictors <- vif(model_two_predictors)
dwtest_two_predictors <- dwtest(model_two_predictors)
jbtest_two_predictors <- jarque.bera.test(resid(model_two_predictors))
bptest_two_predictors <- bptest(model_two_predictors)
shapiro_two_predictors <- shapiro.test(resid(model_two_predictors))
```

A second linear regression model was then estimated using only the Health Care Index and Property Price to Income Ratio as predictors. The model exhibited a strong fit (adjusted R² = `r round(summary_two_predictors$adj.r.squared, 3)`, p = `r signif(pf(summary_two_predictors$fstatistic[1], summary_two_predictors$fstatistic[2], summary_two_predictors$fstatistic[3], lower.tail = FALSE), 2)`). The Health Care Index was a statistically significant predictor (β = `r round(coef(summary_two_predictors)[2, "Estimate"], 2)`, p = `r round(coef(summary_two_predictors)[2, "Pr(>|t|)"], 3)`), while Property Price to Income Ratio was marginally non-significant (β = `r round(coef(summary_two_predictors)[3, "Estimate"], 2)`, p = `r round(coef(summary_two_predictors)[3, "Pr(>|t|)"], 3)`). Multicollinearity diagnostics confirmed acceptable VIF values for both predictors (VIF = `r round(vif_two_predictors[1], 2)` and `r round(vif_two_predictors[2], 2)` respectively). Residual analysis revealed no significant autocorrelation (Durbin-Watson = `r round(dwtest_two_predictors$statistic, 2)`, p = `r round(dwtest_two_predictors$p.value, 3)`), no evidence of heteroskedasticity (Breusch-Pagan p = `r round(bptest_two_predictors$p.value, 3)`), and satisfactory global normality of residuals (Jarque-Bera p = `r round(jbtest_two_predictors$p.value, 3)`). Additionally, the Shapiro-Wilk test for residuals was non-significant (p = `r round(shapiro_two_predictors$p.value, 3)`), confirming normality.

These results supported the selection of the two-predictor model as the more robust specification. They provide strong support for a linear relationship between improved IMD-evaluated SCD technologies and perceived impaired access to quality healthcare, as reported by Numbeo.com users. They also suggest a trend towards a second, independent, QoL dimension being affected by SCD technologies, namely housing costs.

## Discussion

In this study, we analyzed the correlations between smart city development (SCD) metrics and quality of life (QoL) outcomes. Urban development was assessed by two prestigious academic institutions, based on scores derived from dozens of semi-independent elements, producing rankings that have been republished for decades. The two SCD metrics demonstrated a high degree of similarity. However, these metrics focus on global rankings, generating very small samples. In contrast, QoL is a well-established concept, which could have allowed for the inclusion of a larger number of cities. Nonetheless, because QoL is a central theme in political debates and cultural identity, no unique, standardized definition exists, Unsurprisingly, the two QoL metrics used in this study are not fully aligned.

A large part of the SCD metrics analyzed were not correlated with QoL metrics. While in the case of the IESE metrics, such findings could be attributed to smaller sample sizes, in the case of the IMD metrics we described variable, occasionally very strong, correlations at domain- and item-level with QoL metrics. Specifically, QoL as measured by USNW criteria was positively correlated with the city-level estimated HDI and with the IMD Structures indicator. The latter correlation could largely be explained by the presence of green spaces and of theaters, museums, and bars. By contrast, quality of life as estimated by USNW appeared to be independent of the IMD Technologies index. The opposite situation was observed for QoL life as estimated by the Numbeo algorithm. In this case, the IMD Technologies index was the only SCD metric that correlated with the QoL score. Surprisingly, the correlation was inverse (more technology with poorer QoL), and could not be attributed to any specific technological item. Two components among the eight included in the Numbeo score — namely, the quality of healthcare services and the housing cost-to-income ratio — largely explained this negative correlation.

In conclusion, this study provides evidence that SCD can enhance QoL, but also identifies contexts where this link does not translate into perceived improvements for residents. Given the cross-sectional design, no claims about temporal precedence or causality can be made. Specifically, it appeears that SCD may primarily benefit younger, healthier residents with discretionary income, while disadvantaging renters and individuals with chronic illnesses.

A redefinition of urban development objectives, beyond current IESE and IMD frameworks, may be necessary. For example, several indices used by IESE are based on data from Numbeo. Since Numbeo captures perceived QoL — the outcome rather than the exposure — it appears that the IESE metrics reflect not just the development process, but tend to favor local governments that succeed in achieving their targets, regardless of the methods employed.

This study naturally has some limitations. First, most of the negative results are likely to be type II errors, given the extremely small sample size. However, expanding the sample to a significantly larger volume is unlikely, as few municipalities possess the motivation, vision, and funding necessary for effective SCD.

Another limitation is the lack of optimal data on QoL. Alternative metrics exist, but they were not accessible during the drafting of this analysis. Nevertheless, it should be noted that in most rankings, the QoL situation tends to align more closely with what is reflected by Numbeo, where New York City ranks well below Denver. Even the USNW rankings have historically placed New York at a QoL level that is, at best, mediocre compared to Denver, which is historically considered a Top 10 city for QoL (@SparksNYCisnAmerica2019).

During the research for this paper, we did not come across any publication that applied quantitative methods to analyze the relationship between SCD and QoL in the Western world. This gap may be explained by the tautological nature of the subject, with the IESE and IMD metrics serving as clear examples of confusion between mechanisms and objectives. For instance, the number of museums may be seen more as a goal — a component of QoL — rather than a lever for achieving the goal, that is, a tool of SCD. Even so, this paper offers a good starting point for critically evaluating what we currently call SCD, what opinion leaders consider necessary for SCD progress, and what remains to be done to achieve a more inclusive SCD.

\appendix

## Supplemental data

### Supplemental Table 1. IMD Smart Cities Index 2023 components (copied from Bris et al., 2023)

Structures

- Healthcare and safety
  - Basic sanitation meets the needs of the poorest areas
  - Recycling services are satisfactory
  - Public safety is not a problem
  - Air pollution is not a problem
  - Medical services provision is satisfactory
  - Finding housing with rent equal to 30% or less of a monthly salary is not a problem
- Mobility
  - Traffic congestion is not a problem
  - Public transport is satisfactory
- Leisure
  - Activități din timpul liber
  - Green spaces are satisfactory
  - Cultural activities (shows, bars, and museums) are satisfactory
- Professional devlopmet opporunities
  - Employment finding services are readily available
  - Most children have access to a good school
  - Lifelong learning opportunities are provided by local institutions
  - Businesses are creating new jobs
  - Minorities feel welcome
- Governance
  - Information on local government decisions are easily accessible
  - Corruption of city officials is not an issue of concern
  - Residents contribute to decision making of local government
  - Residents provide feedback on local government project

Technologies

- Healthcare and safety
  - Online reporting of city maintenance problems provides a speedy solution
  - A website or App allows residents to easily give away unwanted items
  - Free public wifi has improved access to city services
  - CCTV cameras has made residents feel safer
  - A website or App allows residents to effectively monitor air pollution
  - Arranging medical appointments online has improved access
- Mobility
  - Car-sharing Apps have reduced congestion
  - Apps that direct you to an available parking space have reduced journey time
  - Bicycle hiring has reduced congestion
  - Online scheduling and ticket sales has made public transport easier to use
  - The city provides information on traffic congestion through mobile phones
- Leisure
  - Online purchasing of tickets to shows and museums has made it easier to attend
- Personal development opportunities
  - Online access to job listings has made it easier to find work
  - IT skills are taught well in schools
  - Online services provided by the city has made it easier to start a new business
  - The current internet speed and reliability meet connectivity needs"
- Governance
  - Online public access to city finances has reduced corruption
  - Online voting has increased participation
  - An online platform where residents can propose ideas has improved city life
  - Processing Identification Documents online has reduced waiting times

Concerns:

- affordable housing
- air pollution
- basic amenities
- citizen engagement
- corruption
- fulfilling employment
- green spaces
- health services
- public transport
- recycling
- road congestion
- school education
- security
- social mobility
- unemployment.

### Supplemental Table 2. IESE Smart Cities 2024 components (copied from Berrone et al., 2024).

Human capital:

- Proportion of population with secondary and higher education
- Number of public and private schools in the city
- Number of business schools in the city included in the Financial Times TOP 100
- Expenditure on education
- Expenditure on leisure and recreation
- Expenditure on leisure and recreation per capita
- International flow of mobile students at the tertiary level
- Number of museums and art galleries in the city
- Number of TOP 500 universities
- Number of theaters in the city


Social cohesion:

- Variable that indicates whether a city provides a friendly environment for women (on a scale of 1 to 5).
- Number of public and private hospitals in the city
- Estimation of the general level of crime in a city
- Variable representing the national government’s response to situations of slavery in the country.
- Variable representing ... overall happiness
- Gini Index
- Index measuring the level of peace/violence in a country or region.
- Estimation of the overall quality of the health care system, health care professionals, equipment, costs
- Variable indicating whether a city provides a friendly environment for the LGBTQ+ community
- Property price as a percentage of income.
- Rate of female employment in the public sector.
- Death rate per 100,000 city inhabitants.
- Unemployment rate (number of unemployed/labor force).
- Murder rate per 100,000 city inhabitants.
- Suicide rate per 100,000 city inhabitants.
- Number of terrorist incidents in the city in the last three years.
- Index of racial tolerance in a city.

Economy:

- Number of unicorn companies in the city
- Index ... higher for cities that have a more favorable regulatory environment for setting up and operating a local business.
- Ranking of startup ecosystems.
- Mortgage as a percentage of income is the monthly mortgage cost as a proportion of household income (the lower the better).
- The percentage of opportunity-driven early-stage entrepreneurs divided by the percentage of necessity-driven early-stage entrepreneurs.
- Number of headquarters of publicly traded companies.
- Number of Fortune 500 companies present in the city.
- Gross domestic product in millions of US dollars.
- Projected growth in gross domestic product for the next year.
- Gross domestic product per capita.
- Purchasing power in buying goods and services in the city (based on the average salary), compared to that of New York City residents.
- Labor productivity calculated as GDP/employed population (in thousands).
- Hourly wage in the city in US dollars.
- Number of calendar days needed to complete the procedures to legally operate a business.

Governance:

- Whether or not Bitcoin is legal in the city.
- Whether or not the city has ISO 37120 certification. Certified cities are committed to improving urban services and quality of life.
- Number of government buildings and premises in the city.
- Number of embassies in the city.
- Percentage of employed population working in public administration and defense; education; health; community, social and personal service activities; and other activities.
- Index supplementing the E-Government Development Index (EGDI), which focuses on the use of online services to facilitate provision of information by governments to citizens (“e-information sharing”), interaction with stakeholders (“e-consultation”), and engagement in decision-making processes (“e-decision-making”).
- Variable that reflects the human capacity dimension, which is one of the three dimensions that make up the EGDI (online service, telecommunication connectivity, and human capacity).
- Index that measures the degree to which collateral and bankruptcy laws protect the rights of borrowers and lenders and thus facilitate access to loans.
- Variable that reflects the development status of telecommunication infrastructure, which is one of the three dimensions that make up the EGDI (online service, telecommunication connectivity, and human capacity).
- Corruption Perceptions Index
- Variable that reflects the scope and quality of online services, which is one of the three dimensions that make up the EGDI (online service, telecommunication connectivity, and human capacity).
- Number of research and technology offices in the city.
- Whether or not the city has an open data system.
- Democracy Index - The top-ranked countries are the ones considered most democratic.
- Total reserves in millions of current dollars. City-level estimate based on population.
- Reserves per capita in millions of current dollars.

Environment:

- Index of pollution.
- Index of carbon dioxide emissions.
- Carbon dioxide emissions from fossil fuel use and cement production.
- Methane emissions caused by human activities such as agriculture and industrial methane production.
- Environmental Performance Index
- PM10, PM2.5 - air particulate pollutants
- Percentage of the population with reasonable access to an appropriate quantity of water resulting from an improvement in the supply.
- Renewable water resources per capita.
- Average amount of municipal solid waste generated annually per person (kg/year).
- Risk to the city due to climate change.

Mobility:

- Whether or not the city has a bicycle, moped or scooter rental service.
- Number of shared bicycles in the city.
- Number of metro stations in the city. Number of metro lines in the city. Length of the metro system in the city
- Index estimating traffic inefficiencies.
- Index of traffic and congestion in the city.
- Index that is estimated by considering time spent in traffic. It is assumed that travel time dissatisfaction increases exponentially beyond 25 minutes.
- Percentage of households with bicycles.
- Variable that shows whether the city has a high-speed train or not.
- Number of commercial vehicles in the city.
- Number of inbound flights (air routes) in a city.

Urban planning:

- Number of bike-rental or bike-sharing points, based on docking stations where they can be picked up and dropped off.
- Whether or not the city has a bike-sharing system.
- The number of completed buildings in a city.
- Electric car charging points in the city.
- Percentage of the urban population that uses at least basic sanitation services—that is, improved sanitation facilities that are not shared with other households.
- Whether or not the city has AI projects.
- Percentage of buildings classified as high-rises. A high-rise is a multi-floored building of at least 12 stories or 35 m in height (115 feet).
- Number of deaths in traffic accidents per 100,000 inhabitants.

Intenational profile:

- Annual number of passengers per airport in thousands.
- Number of hotels per capita.
- The Restaurant Price Index compares the price of meals and drinks in restaurants and bars in a city to prices in New York City.
- Number of McDonald’s outlets in the city.
- Number of international congresses and meetings held in a city.

Technology:

- Active mobile broadband subscriptions.
- Innovation Cities Index
- Percentage of households with Internet access.
- Percentage of households with a personal computer.
- Number of mobile phones per 100 inhabitants.
- Registered X users in a city (in thousands of individuals) + number of registered LinkedIn members in the city.
- Broadband subscriptions per 100 inhabitants.
- Percentage of households with some kind of telephone service.
- Fixed-line Internet speed in megabytes per second by country.
- Mobile speed in megabytes per second (country).
- Number of options for connecting to the Internet in a city.


### Supplemental Table 3. Components of USNW QoL Scores (copied from How we rank the Best Places to Live and Retire, U.S. News & World Report, as of April 2024)

- Crime Rate index (25% of QoL score) is computed using murder, violent crime and property crime per-capita rates, from FBI's Uniform Crime Reports.
- Quality of Education index (19%) is computed using the average college readiness score from the US News Best High Schools rankings.
- Well-being (index 19%) use resident satisfaction scores regarding purpose, social, financial, community and physical We used the composite score, from Sharecare’s Community Well-Being Index.
- Commuter Index (16%) uses time spent traveling door to door, whether by foot, public transit, car or bicycle, from US Census Bureau.
- Quality and Availability of Health Care (9%) uses the quantity of ranked facilities within 50, 100 and 250 miles of each metro area from US News Best Hospitals .
- Air Quality Index (7%) uses the homonymous index from the Environmental Protection Agency. 
- National Risk Index (5%) uses risk to 18 types of natural hazards from Federal Emergency Management Agency, and community risk factors, including social vulnerability and community resilience.

### Supplemental Table 4. Numbero.com QoL score components (paraphrased from numbeo.com, as of April 2024)

The Cost of Living Index is a weighted mean of readers' submitted prices for:

- Restaurants (such as McMeal at McDonalds, Meal at Inexpensive Restaurant, Meal at Mid-range Restaurant, Domestic Beer, Imported Beer and so on)
- Food Markets
- Transportation
- Utilities
- Sports And Leisure
- Childcare
- Clothing And Shoes.

The Purchasing Power Index is the ratio between:

- readers' submitted rents and Cost of Living prices (from the previous indicator)
- readers' submitted net salaries.

The Property Price to Income Ratio (sometimes referred to as Housing Affordability) estimates the number of years of family income required to purchase a typical apartment outright, without a mortgage.

- Family income is calculated as 1.5 times the net salaries submitted by readers.
- The typical apartment has 90 square meters, and is not located in downtown areas. Prices are submitted by readers.

The Safety Index (sometimes referred to by its inverse, Crime Index), based on readers' responses about:

- General perception of crime levels
- Perceived safety during daylight and nighttime
- Concerns about specific crimes (mugging, robbery, car theft, physical attacks, public harassment, and bias-motivated incidents)
- Property crime severity (burglary, theft, vandalism)
- Violent crime severity (assault, homicide, sexual offenses).

The Healthcare Quality uses readers' responses about healthcare providers, be they individuals or orgnizations, from the point of view of:

- skill and competency
- speed
- modern equipment
- accuracy and completeness
- friendliness and courtesy
- responsiveness waitings
- location
- cost.

The Climate Index is calculated from the temperature and dew point (unspecifid source).

The Pollution Index is calculated from data, from World Health Organization and from readers, about:

- Air and Water Pollution
- Garbage Disposal and Cleanliness
- Noise and Light Pollution
- Availability of Green Spaces
- Overall Pollution Comfort.

Traffic and Commute Times Index is calculated using reader's submitted estimates for:

- overall traffic system inefficiencies
- commute time
- dissatisfaction with time spent in traffic
- CO2 emissions (indirectly estimated from commute time).

## References